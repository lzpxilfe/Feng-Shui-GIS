# -*- coding: utf-8 -*-
from qgis.PyQt.QtCore import QLocale

_MESSAGES = {
    "en": {
        "plugin_title": "Feng Shui GIS",
        "menu_title": "Feng Shui GIS",
        "panel_title": "Feng Shui Site Analyzer",
        "sites_label": "Site points",
        "dem_label": "DEM raster",
        "water_label": "Water layer (optional)",
        "hemisphere_label": "Hemisphere",
        "hemisphere_north": "Northern",
        "hemisphere_south": "Southern",
        "model_label": "Archaeology profile",
        "model_general": "General",
        "model_tomb": "Tomb",
        "model_house": "House",
        "model_village": "Village",
        "model_well": "Well",
        "model_temple": "Temple",
        "culture_label": "Region profile",
        "culture_east_asia": "East Asia baseline",
        "culture_korea": "Korea",
        "culture_china": "China",
        "culture_japan": "Japan",
        "culture_ryukyu": "Ryukyu/Okinawa",
        "period_label": "Historical period",
        "period_ancient": "Ancient",
        "period_medieval": "Medieval",
        "period_early_modern": "Early modern",
        "period_modern": "Modern/Contemporary",
        "run_button": "Run Analysis",
        "extract_terms_button": "Extract DEM Terms",
        "status_idle": "Choose layers, then run analysis.",
        "status_running": "Analysis in progress...",
        "status_terms_running": "Extracting DEM Feng Shui terms...",
        "status_done": "Analysis completed.",
        "warn_missing_layers": "Select site points and DEM first.",
        "warn_dem_required": "Select DEM first.",
        "warn_failed": "Analysis failed",
        "ok_finished": "Created scored layer",
        "ok_terms_finished": "Created Feng Shui term layer",
    },
    "ko": {
        "plugin_title": "풍수 GIS",
        "menu_title": "풍수 GIS",
        "panel_title": "풍수 입지 분석기",
        "sites_label": "후보지 포인트",
        "dem_label": "DEM 래스터",
        "water_label": "수계 레이어(선택)",
        "hemisphere_label": "반구",
        "hemisphere_north": "북반구",
        "hemisphere_south": "남반구",
        "model_label": "고고학 프리셋",
        "model_general": "일반 풍수",
        "model_tomb": "무덤",
        "model_house": "주거",
        "model_village": "마을",
        "model_well": "우물",
        "model_temple": "사찰",
        "culture_label": "지역/국가 프로파일",
        "culture_east_asia": "동아시아 기본",
        "culture_korea": "한국",
        "culture_china": "중국",
        "culture_japan": "일본",
        "culture_ryukyu": "류큐/오키나와",
        "period_label": "시대 구분",
        "period_ancient": "고대",
        "period_medieval": "중세",
        "period_early_modern": "근세",
        "period_modern": "근현대",
        "run_button": "분석 실행",
        "extract_terms_button": "DEM 용어 추출",
        "status_idle": "레이어를 선택하고 분석을 실행하세요.",
        "status_running": "분석 중...",
        "status_terms_running": "DEM 기반 풍수 용어를 추출하는 중...",
        "status_done": "분석 완료.",
        "warn_missing_layers": "후보지와 DEM을 선택하세요.",
        "warn_dem_required": "DEM을 선택하세요.",
        "warn_failed": "분석 실패",
        "ok_finished": "점수 레이어가 생성되었습니다",
        "ok_terms_finished": "풍수 용어 레이어가 생성되었습니다",
    },
    "zh": {
        "plugin_title": "风水 GIS",
        "menu_title": "风水 GIS",
        "panel_title": "风水选址分析",
        "sites_label": "候选点图层",
        "dem_label": "DEM 栅格",
        "water_label": "水系图层（可选）",
        "hemisphere_label": "半球",
        "hemisphere_north": "北半球",
        "hemisphere_south": "南半球",
        "model_label": "考古预设",
        "model_general": "通用",
        "model_tomb": "墓葬",
        "model_house": "居住",
        "model_village": "村落",
        "model_well": "水井",
        "model_temple": "寺庙",
        "culture_label": "区域/国家预设",
        "culture_east_asia": "东亚基准",
        "culture_korea": "韩国",
        "culture_china": "中国",
        "culture_japan": "日本",
        "culture_ryukyu": "琉球/冲绳",
        "period_label": "历史时期",
        "period_ancient": "古代",
        "period_medieval": "中世",
        "period_early_modern": "近世",
        "period_modern": "近现代",
        "run_button": "运行分析",
        "extract_terms_button": "提取 DEM 术语",
        "status_idle": "选择图层后开始分析。",
        "status_running": "分析进行中...",
        "status_terms_running": "正在提取 DEM 风水术语...",
        "status_done": "分析完成。",
        "warn_missing_layers": "请先选择候选点和 DEM 图层。",
        "warn_dem_required": "请先选择 DEM 图层。",
        "warn_failed": "分析失败",
        "ok_finished": "已创建评分图层",
        "ok_terms_finished": "已创建风水术语图层",
    },
    "ja": {
        "plugin_title": "風水 GIS",
        "menu_title": "風水 GIS",
        "panel_title": "風水立地アナライザー",
        "sites_label": "候補地点ポイント",
        "dem_label": "DEM ラスター",
        "water_label": "水系レイヤー（任意）",
        "hemisphere_label": "半球",
        "hemisphere_north": "北半球",
        "hemisphere_south": "南半球",
        "model_label": "考古プリセット",
        "model_general": "一般",
        "model_tomb": "墳墓",
        "model_house": "住居",
        "model_village": "集落",
        "model_well": "井戸",
        "model_temple": "寺院",
        "culture_label": "地域プロファイル",
        "culture_east_asia": "東アジア基準",
        "culture_korea": "韓国",
        "culture_china": "中国",
        "culture_japan": "日本",
        "culture_ryukyu": "琉球/沖縄",
        "period_label": "時代区分",
        "period_ancient": "古代",
        "period_medieval": "中世",
        "period_early_modern": "近世",
        "period_modern": "近現代",
        "run_button": "解析実行",
        "extract_terms_button": "DEM 用語抽出",
        "status_idle": "レイヤーを選択して解析を実行してください。",
        "status_running": "解析中...",
        "status_terms_running": "DEM 由来の風水用語を抽出中...",
        "status_done": "解析が完了しました。",
        "warn_missing_layers": "候補地と DEM を選択してください。",
        "warn_dem_required": "DEM を選択してください。",
        "warn_failed": "解析失敗",
        "ok_finished": "スコア付きレイヤーを作成しました",
        "ok_terms_finished": "風水用語レイヤーを作成しました",
    },
}


def _language_code():
    code = QLocale.system().name().split("_", maxsplit=1)[0].lower()
    if code in _MESSAGES:
        return code
    return "en"


def tr(key):
    lang = _language_code()
    if key in _MESSAGES[lang]:
        return _MESSAGES[lang][key]
    return _MESSAGES["en"].get(key, key)
